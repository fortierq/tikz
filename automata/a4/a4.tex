\documentclass[convert={outfile=\jobname.png}]{standalone}
\usepackage{base}
\usepackage{draw}

\begin{document}

\begin{tikzpicture}[automata]
	\node[state, initial] (1) {$1$};
	\node[state, right of=1, accepting] (2) {$2$};
	\node[state, below of=1] (3) {$3$};
	\node[state, right of=3] (4) {$4$};
	\draw (1) edge[above] node{$a$} (2)
	(1) edge[left] node{$a$} (3);
	\draw (2) edge[right] node{$a$} (4);
	\draw (3) edge[below] node{$b$} (4);
	\draw (4) edge[below] node{$b$} (1);
	\draw (4) edge[loop right] node{$b$} (4);
\end{tikzpicture}

\end{document}
